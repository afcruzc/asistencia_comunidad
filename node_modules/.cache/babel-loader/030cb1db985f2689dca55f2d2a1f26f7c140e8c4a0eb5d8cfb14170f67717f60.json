{"ast":null,"code":"import React,{useState,useEffect}from'react';import PersonCard from'./PersonCard';import GroupDashboardView from'./GroupDashboardView';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const GroupDetailView=_ref=>{let{group,people,meetings,groups,onStatusChange,onAddPerson,onSelectPerson,onEditPerson,onDeletePerson}=_ref;const[subPage,setSubPage]=useState('people');const[peopleInGroup,setPeopleInGroup]=useState([]);useEffect(()=>{// Filtrar personas que tienen el groupId de este grupo\nconst filtered=people.filter(person=>person.groupIds&&person.groupIds.some(id=>String(id)===String(group.id)));setPeopleInGroup(filtered);},[people,group]);// Dependencias: people y group\nreturn/*#__PURE__*/_jsxs(\"div\",{className:\"p-4\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold text-gray-800 mb-6 text-center\",children:group.name}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 text-center mb-8\",children:group.description}),/*#__PURE__*/_jsxs(\"nav\",{className:\"flex justify-around bg-white p-2 shadow-md rounded-xl mb-4\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setSubPage('people'),className:`px-4 py-2 rounded-lg text-md font-semibold transition-colors ${subPage==='people'?'bg-blue-500 text-white':'text-gray-700 hover:bg-gray-100'}`,children:\"Personas del Grupo\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setSubPage('dashboard'),className:`px-4 py-2 rounded-lg text-md font-semibold transition-colors ${subPage==='dashboard'?'bg-blue-500 text-white':'text-gray-700 hover:bg-gray-100'}`,children:\"Dashboard de Asistencia\"})]}),subPage==='people'&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"space-y-4 mb-6\",children:peopleInGroup.length>0?peopleInGroup.map(person=>/*#__PURE__*/_jsx(PersonCard,{person:person,onStatusChange:onStatusChange,onClick:onSelectPerson,onEdit:onEditPerson,onDelete:onDeletePerson// Pasar onDeletePerson aquí\n,showStatus:false// No mostrar el estado de asistencia aquí\n},person._id)):/*#__PURE__*/_jsx(\"p\",{className:\"text-center text-gray-500\",children:\"No hay personas en este grupo a\\xFAn.\"})}),/*#__PURE__*/_jsx(\"button\",{onClick:onAddPerson,className:\"w-full bg-blue-600 text-white py-3 rounded-xl shadow-lg hover:bg-blue-700 transition-colors text-lg font-semibold\",children:\"Agregar Nueva Persona al Grupo\"})]}),subPage==='dashboard'&&/*#__PURE__*/_jsx(GroupDashboardView,{group:group,people:peopleInGroup,meetings:meetings,groups:groups})]});};export default GroupDetailView;","map":{"version":3,"names":["React","useState","useEffect","PersonCard","GroupDashboardView","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","GroupDetailView","_ref","group","people","meetings","groups","onStatusChange","onAddPerson","onSelectPerson","onEditPerson","onDeletePerson","subPage","setSubPage","peopleInGroup","setPeopleInGroup","filtered","filter","person","groupIds","some","id","String","className","children","name","description","onClick","length","map","onEdit","onDelete","showStatus","_id"],"sources":["c:/Users/afcru/Downloads/project/src/components/GroupDetailView.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport PersonCard from './PersonCard';\nimport GroupDashboardView from './GroupDashboardView';\n\nconst GroupDetailView = ({ group, people, meetings, groups, onStatusChange, onAddPerson, onSelectPerson, onEditPerson, onDeletePerson }) => {\n  const [subPage, setSubPage] = useState('people');\n  const [peopleInGroup, setPeopleInGroup] = useState([]);\n\n  useEffect(() => {\n    // Filtrar personas que tienen el groupId de este grupo\n    const filtered = people.filter(person => person.groupIds && person.groupIds.some(id => String(id) === String(group.id)));\n    setPeopleInGroup(filtered);\n  }, [people, group]); // Dependencias: people y group\n\n  return (\n    <div className=\"p-4\">\n      <h2 className=\"text-2xl font-bold text-gray-800 mb-6 text-center\">{group.name}</h2>\n      <p className=\"text-gray-600 text-center mb-8\">{group.description}</p>\n\n      <nav className=\"flex justify-around bg-white p-2 shadow-md rounded-xl mb-4\">\n        <button\n          onClick={() => setSubPage('people')}\n          className={`px-4 py-2 rounded-lg text-md font-semibold transition-colors ${\n            subPage === 'people' ? 'bg-blue-500 text-white' : 'text-gray-700 hover:bg-gray-100'\n          }`}\n        >\n          Personas del Grupo\n        </button>\n        <button\n          onClick={() => setSubPage('dashboard')}\n          className={`px-4 py-2 rounded-lg text-md font-semibold transition-colors ${\n            subPage === 'dashboard' ? 'bg-blue-500 text-white' : 'text-gray-700 hover:bg-gray-100'\n          }`}\n        >\n          Dashboard de Asistencia\n        </button>\n      </nav>\n\n      {subPage === 'people' && (\n        <>\n          <div className=\"space-y-4 mb-6\">\n            {peopleInGroup.length > 0 ? (\n              peopleInGroup.map((person) => (\n                <PersonCard\n                  key={person._id}\n                  person={person}\n                  onStatusChange={onStatusChange}\n                  onClick={onSelectPerson}\n                  onEdit={onEditPerson}\n                  onDelete={onDeletePerson} // Pasar onDeletePerson aquí\n                  showStatus={false} // No mostrar el estado de asistencia aquí\n                />\n              ))\n            ) : (\n              <p className=\"text-center text-gray-500\">No hay personas en este grupo aún.</p>\n            )}\n          </div>\n          <button\n            onClick={onAddPerson}\n            className=\"w-full bg-blue-600 text-white py-3 rounded-xl shadow-lg hover:bg-blue-700 transition-colors text-lg font-semibold\"\n          >\n            Agregar Nueva Persona al Grupo\n          </button>\n        </>\n      )}\n\n      {subPage === 'dashboard' && (\n        <GroupDashboardView\n          group={group}\n          people={peopleInGroup}\n          meetings={meetings}\n          groups={groups}\n        />\n      )}\n    </div>\n  );\n};\n\nexport default GroupDetailView;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}